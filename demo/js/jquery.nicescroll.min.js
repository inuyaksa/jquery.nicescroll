/* jquery.nicescroll 2.9.5 InuYaksa*2012 MIT http://areaaperta.com/nicescroll */(function(e){var m=false,p=false,s=5E3,t=2E3,u=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return e.split("/").length>0?e.split("/").slice(0,-1).join("/")+"/":""}(),k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||false,n=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||
window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||false,y=function(f,c){var b=this;this.version="2.9.5";this.name="nicescroll";this.me=c;this.opt={doc:e("body"),win:false,zindex:9E3,cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:40,touchbehavior:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,
autohidemode:true,background:"",iframeautoresize:true,cursorminheight:20,preservenativescrolling:true,railoffset:false,bouncescroll:false,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true};if(f)for(var h in b.opt)typeof f[h]!="undefined"&&(b.opt[h]=f[h]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=b.opt.win!==false;this.win=b.opt.win||(this.ispage?
e(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win;this.body=e("body");this.iframe=false;this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME";this.istextarea=this.win[0].nodeName=="TEXTAREA";this.page=this.view=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.scrollmom=false;
do this.id="ascrail"+t++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.cursorfreezed=this.cursor=this.rail=false;this.visibility=true;this.nativescrollingarea=this.hidden=this.locked=false;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdelta=0;var i=document.createElement("DIV");this.isopera="opera"in window;this.isieold=(this.isie="all"in document&&"attachEvent"in i&&!this.isopera)&&!("msInterpolationMode"in i.style);
this.isie7=this.isie&&!this.isieold&&(!("documentMode"in document)||document.documentMode==7);this.isie8=this.isie&&"documentMode"in document&&document.documentMode==8;this.isie9=this.isie&&"performance"in window&&document.documentMode>=9;this.isie9mobile=/iemobile.9/i.test(navigator.userAgent);this.isie7mobile=!this.isie9mobile&&this.isie7&&/iemobile/i.test(navigator.userAgent);this.ismozilla="MozAppearance"in i.style;this.ischrome="chrome"in window;this.cantouch="ontouchstart"in document.documentElement;
this.hasmstouch=window.navigator.msPointerEnabled||false;this.isios4=(this.isios=this.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform))&&!("seal"in Object);if(b.opt.hwacceleration){if((this.trstyle=window.opera?"OTransform":document.all?"msTransform":i.style.webkitTransform!==void 0?"webkitTransform":i.style.MozTransform!==void 0?"MozTransform":false)&&typeof i.style[this.trstyle]=="undefined")this.trstyle=false;if(this.hastransform=this.trstyle!=false)i.style[this.trstyle]="translate3d(1px,2px,3px)",
this.hastranslate3d=/translate3d/.test(i.style[this.trstyle]);this.transitionstyle=false;this.prefixstyle="";this.transitionend=false;var q="transition,webkitTransition,MozTransition,OTransition,msTransition,KhtmlTransition".split(","),l=",-webkit-,-moz-,-o-,-ms-,-khtml-".split(","),v="transitionEnd,webkitTransitionEnd,transitionend,oTransitionEnd,msTransitionEnd,KhtmlTransitionEnd".split(",");for(h=0;h<q.length;h++)if(q[h]in i.style){this.transitionstyle=q[h];this.prefixstyle=l[h];this.transitionend=
v[h];break}this.hastransition=this.transitionstyle}else this.transitionend=this.hastransition=this.transitionstyle=this.hastranslate3d=this.hastransform=this.trstyle=false;this.cursorgrabvalue="";if(b.opt.grabcursorenabled&&b.opt.touchbehavior)this.cursorgrabvalue=function(){var d=["-moz-grab","-webkit-grab","grab"];if(b.ischrome||b.isie)d=[];for(var g=0;g<d.length;g++){var c=d[g];i.style.cursor=c;if(i.style.cursor==c)return c}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}();
i=null;this.ishwscroll=b.hastransform&&b.opt.hwacceleration&&b.haswrapper;this.delayed=function(d,g,c){var e=b.delaylist[d],f=(new Date).getTime();if(e&&e.tt)return false;if(e&&e.last+c>f&&!e.tt)b.delaylist[d]={last:f+c,tt:setTimeout(function(){b.delaylist[d].tt=0;g.call()},c)};else if(!e||!e.tt)b.delaylist[d]={last:f,tt:0},setTimeout(function(){g.call()},0)};this.requestSync=function(){if(!b.onsync)k(function(){b.onsync=false;for(name in b.synclist){var d=b.synclist[name];d&&d.call(b);b.synclist[name]=
false}}),b.onsync=true};this.synched=function(d,g){b.synclist[d]=g;b.requestSync()};this.css=function(d,g){for(var c in g)b.saved.css.push([d,c,d.css(c)]),d.css(c,g[c])};this.scrollTop=function(d){return typeof d=="undefined"?b.getScrollTop():b.setScrollTop(d)};BezierClass=function(b,c,e,j,f,h,x){this.st=b;this.ed=c;this.spd=e;this.p1=j||0;this.p2=f||1;this.p3=h||0;this.p4=x||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(b){return 3*b*b*(1-b)},B3:function(b){return 3*
b*(1-b)*(1-b)},B4:function(b){return(1-b)*(1-b)*(1-b)},getNow:function(){var b=1-((new Date).getTime()-this.ts)/this.spd,c=this.B2(b)+this.B3(b)+this.B4(b);return b<0?this.ed:this.st+Math.round(this.df*c)},update:function(b,c){this.st=this.getNow();this.ed=b;this.spd=c;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};this.ishwscroll?(this.doc.translate={x:0,y:0},this.hastranslate3d&&this.doc.css(this.prefixstyle+"backface-visibility","hidden"),this.getScrollTop=function(d){return b.timerscroll&&
!d?b.timerscroll.bz.getNow():b.doc.translate.y},this.notifyScrollEvent=document.createEvent?function(b){var c=document.createEvent("UIEvents");c.initUIEvent("scroll",false,true,window,1);b.dispatchEvent(c)}:document.fireEvent?function(b){var c=document.createEventObject();b.fireEvent("onscroll");c.cancelBubble=true}:function(){},this.setScrollTop=this.hastranslate3d?function(d,c){b.doc.css(b.trstyle,"translate3d(0px,"+d*-1+"px,0px)");b.doc.translate.y=d;c||b.notifyScrollEvent(b.win[0])}:function(d,
c){b.doc.css(b.trstyle,"translate(0px,"+d*-1+"px)");b.doc.translate.y=d;c||b.notifyScrollEvent(b.win[0])}):(this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(d){return b.docscroll.scrollTop(d)});this.getTarget=function(b){return!b?false:b.target?b.target:b.srcElement?b.srcElement:false};this.hasParent=function(b,c){if(!b)return false;for(var e=b.target||b.srcElement||b||false;e&&e.id!=c;)e=e.parentNode||false;return e!==false};this.updateScrollBar=function(d){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()});
else{var c=b.win.offset();c.top+=parseFloat(b.win.css("border-top-width"));b.win.outerWidth();b.win.innerWidth();c.left+=b.win.outerWidth()-parseFloat(b.win.css("border-right-width"))-b.rail.width;var e=b.opt.railoffset;e&&(e.top&&(c.top+=e.top),e.left&&(c.left+=e.left));b.rail.css({top:c.top,left:c.left,height:d?d.h:b.win.innerHeight()});b.zoom&&b.zoom.css({top:c.top+1,left:c.left-20})}};b.hasanimationframe=k;b.hascancelanimationframe=n;b.hasanimationframe?b.hascancelanimationframe||(n=function(){b.cancelAnimationFrame=
true}):(k=function(b){return setTimeout(b,16)},n=clearInterval);this.init=function(){b.saved.css=[];if(b.isie7mobile)return true;b.hasmstouch&&b.css(b.ispage?e("html"):b.win,{"-ms-touch-action":"none"});if(!b.ispage||!b.cantouch&&!b.isieold&&!b.isie9mobile){var d=b.docscroll;b.ispage&&(d=b.haswrapper?b.win:b.doc);b.isie9mobile||b.css(d,{"overflow-y":"hidden"});b.ispage&&b.isie7&&b.win[0].nodeName=="BODY"&&b.css(e("html"),{"overflow-y":"hidden"});var c=e(document.createElement("div"));c.css({position:"relative",
top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});c.hborder=parseFloat(c.outerHeight()-c.innerHeight());b.cursor=c;d=e(document.createElement("div"));d.attr("id",b.id);d.width=Math.max(parseFloat(b.opt.cursorwidth),c.outerWidth());d.css({width:d.width+"px",zIndex:b.ispage?
b.opt.zindex:b.opt.zindex+2,background:b.opt.background});var w=["top","bottom","left","right"],j;for(j in w){var f=b.opt.railpadding[j];f&&d.css("padding-"+j,f+"px")}d.append(c);b.rail=d;j=b.rail.drag=false;if(b.opt.boxzoom&&!b.ispage&&!b.isieold&&(j=document.createElement("div"),b.bind(j,"click",b.doZoom),b.zoom=e(j),b.zoom.css({cursor:"pointer","z-index":b.opt.zindex,backgroundImage:"url("+u+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",
b.doZoom),b.cantouch&&b.opt.gesturezoom))b.ongesturezoom=function(d){d.scale>1.5&&b.doZoomIn(d);d.scale<0.8&&b.doZoomOut(d);return b.cancelEvent(d)},b.bind(b.win,"gestureend",b.ongesturezoom);b.ispage?(d.css({position:"fixed",top:"0px",right:"0px",height:"100%"}),b.body.append(d)):(b.ishwscroll?(b.win.css("position")=="static"&&b.css(b.win,{position:"relative"}),j=b.win[0].nodeName=="HTML"?b.body:b.win,b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),j.append(b.zoom)),
d.css({position:"absolute",top:0,right:0}),j.append(d)):(d.css({position:"absolute"}),b.zoom&&b.zoom.css({position:"absolute"}),b.updateScrollBar(),b.body.append(d),b.zoom&&b.body.append(b.zoom)),b.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}));if(b.opt.autohidemode===false)b.autohidedom=false;else if(b.opt.autohidemode===true)b.autohidedom=b.rail;else if(b.opt.autohidemode=="cursor")b.autohidedom=b.cursor;if(b.isie9mobile)b.scrollmom={y:new r(b)},
b.onmangotouch=function(){var d=b.getScrollTop();if(d==b.scrollmom.y.lastscrolly)return true;var c=d-b.mangotouch.sy;if(c!=0){var e=c<0?-1:1,g=(new Date).getTime();b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy);if(g-b.mangotouch.tm>60||b.mangotouch.dry!=e)b.scrollmom.y.stop(),b.scrollmom.y.reset(d),b.mangotouch.sy=d,b.mangotouch.ly=d,b.mangotouch.dry=e,b.mangotouch.tm=g;else{b.scrollmom.y.stop();b.scrollmom.y.update(b.mangotouch.sy-c);var f=g-b.mangotouch.tm;b.mangotouch.tm=g;c=Math.abs(b.mangotouch.ly-
d);b.mangotouch.ly=d;if(c>2)b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=false;b.mangotouch.dry=0;b.mangotouch.tm=0;b.scrollmom.y.doMomentum(f)},80)}}},d=b.getScrollTop(),b.mangotouch={sy:d,ly:d,dry:0,lazy:false,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(b.cantouch||b.opt.touchbehavior||b.hasmstouch)b.scrollmom={y:new r(b)},b.ontouchstart=function(d){if(d.pointerType&&d.pointerType!=2)return false;if(!b.locked){if(b.hasmstouch)for(var c=d.target?d.target:false;c;){var g=
e(c).getNiceScroll();if(g.length>0&&g[0].me==b.me)break;if(g.length>0)return false;if(c.nodeName=="DIV"&&c.id==b.id)break;c=c.parentNode?c.parentNode:false}b.cancelScroll();b.rail.drag={x:d.clientX,y:d.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),pt:2};b.hasmoving=false;b.lastmouseup=false;b.scrollmom.y.reset(d.clientY);if(!b.cantouch&&!b.hasmstouch){c=b.getTarget(d);if(!c||!/INPUT|SELECT|TEXTAREA/i.test(c.nodeName))return b.cancelEvent(d);if(/SUBMIT|CANCEL|BUTTON/i.test(e(c).attr("type")))pc=
{tg:c,click:false},b.preventclick=pc}}},b.ontouchend=function(d){if(d.pointerType&&d.pointerType!=2)return false;if(b.rail.drag&&b.rail.drag.pt==2&&(b.scrollmom.y.doMomentum(),b.rail.drag=false,b.hasmoving&&(b.hasmoving=false,b.lastmouseup=true,b.hideCursor(),!b.cantouch)))return b.cancelEvent(d)},b.ontouchmove=function(d){if(d.pointerType&&d.pointerType!=2)return false;if(b.rail.drag&&b.rail.drag.pt==2){if(b.cantouch&&typeof d.original=="undefined")return true;b.hasmoving=true;if(b.preventclick&&
!b.preventclick.click)b.preventclick.click=b.preventclick.tg.onclick||false,b.preventclick.tg.onclick=b.onpreventclick;var c=d.clientY,g=b.rail.drag.st-(c-b.rail.drag.y);if(b.ishwscroll)g<0?(g=Math.round(g/2),c=0):g>b.page.maxh&&(g=b.page.maxh+Math.round((g-b.page.maxh)/2),c=0);else if(g<0&&(g=0),g>b.page.maxh)g=b.page.maxh;b.synched("touchmove",function(){b.rail.drag&&b.rail.drag.pt==2&&(b.prepareTransition&&b.prepareTransition(0),b.setScrollTop(g),b.showCursor(g),b.scrollmom.y.update(c))});return b.cancelEvent(d)}};
b.cantouch||b.opt.touchbehavior?(b.onpreventclick=function(d){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=false,b.cancelEvent(d)},b.onmousedown=b.ontouchstart,b.onmouseup=b.ontouchend,b.onclick=b.isios?false:function(d){return b.lastmouseup?(b.lastmouseup=false,b.cancelEvent(d)):true},b.onmousemove=b.ontouchmove,b.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:b.cursorgrabvalue}),b.css(b.rail,{cursor:b.cursorgrabvalue}))):(b.onmousedown=function(d){if(!(b.rail.drag&&
b.rail.drag.pt!=1)){if(b.locked)return b.cancelEvent(d);b.cancelScroll();b.rail.drag={x:d.clientX,y:d.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1};return b.cancelEvent(d)}},b.onmouseup=function(d){if(b.rail.drag&&b.rail.drag.pt==1)return b.rail.drag=false,b.cancelEvent(d)},b.onmousemove=function(d){if(b.rail.drag){if(b.rail.drag.pt==1){b.scroll.y=b.rail.drag.sy+(d.clientY-b.rail.drag.y);if(b.scroll.y<0)b.scroll.y=0;var c=b.scrollvaluemax;if(b.scroll.y>c)b.scroll.y=c;b.synched("mousemove",function(){if(b.rail.drag&&
b.rail.drag.pt==1)b.showCursor(),b.cursorfreezed=true,b.doScroll(Math.round(b.scroll.y*b.scrollratio.y))});return b.cancelEvent(d)}}else b.checkarea=true});(b.cantouch||b.opt.touchbehavior)&&b.bind(b.win,"mousedown",b.onmousedown);b.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(b){b.preventDefault()}),
b.bind(b.cursor,"contextmenu",function(b){b.preventDefault()}));b.bind(b.cursor,"mousedown",b.onmousedown);b.bind(b.cursor,"mouseup",function(d){if(!(b.rail.drag&&b.rail.drag.pt==2))return b.rail.drag=false,b.hasmoving=false,b.hideCursor(),b.cancelEvent(d)});b.bind(document,"mouseup",b.onmouseup);b.bind(document,"mousemove",b.onmousemove);b.onclick&&b.bind(document,"click",b.onclick);b.cantouch||(b.rail.mouseenter(function(){b.showCursor();b.rail.active=true}),b.rail.mouseleave(function(){b.rail.active=
false;b.rail.drag||b.hideCursor()}),b.isiframe||b.bind(b.isie&&b.ispage?document:b.docscroll,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel));b.zoom&&(b.zoom.mouseenter(function(){b.showCursor();b.rail.active=true}),b.zoom.mouseleave(function(){b.rail.active=false;b.rail.drag||b.hideCursor()}));!b.ispage&&!b.cantouch&&!/HTML|BODY/.test(b.win[0].nodeName)&&(b.win.attr("tabindex")||b.win.attr({tabindex:s++}),b.ischrome&&b.opt.disableoutline&&b.win.css({outline:"none"}),b.win.focus(function(d){m=
b.getTarget(d).id||true;b.hasfocus=true;b.noticeCursor()}),b.win.blur(function(){m=false;b.hasfocus=false}),b.win.mouseenter(function(d){p=b.getTarget(d).id||true;b.hasmousefocus=true;b.noticeCursor()}),b.win.mouseleave(function(){p=false;b.hasmousefocus=false}))}b.onkeypress=function(d){if(b.locked&&b.page.maxh==0)return true;var d=d?d:window.e,c=b.getTarget(d);if(c&&/INPUT|TEXTAREA|SELECT|OPTION/.test(c.nodeName)&&(!c.getAttribute("type")&&!c.type||!/submit|button|cancel/i.tp))return true;if(b.hasfocus||
b.hasmousefocus&&!m||b.ispage&&!m&&!p){c=d.keyCode;if(b.locked&&c!=27)return b.cancelEvent(d);var g=false;switch(c){case 38:case 63233:b.doScrollBy(72);g=true;break;case 40:case 63235:b.doScrollBy(-72);g=true;break;case 33:case 63276:b.doScrollBy(b.view.h);g=true;break;case 34:case 63277:b.doScrollBy(-b.view.h);g=true;break;case 36:case 63273:b.doScrollTo(0);g=true;break;case 35:case 63275:b.doScrollTo(b.page.maxh);g=true;break;case 32:b.opt.spacebarenabled&&(b.doScrollBy(-b.view.h),g=true);break;
case 27:b.zoomactive&&(b.doZoom(),g=true)}if(g)return b.cancelEvent(d)}};b.bind(document,b.isopera?"keypress":"keydown",b.onkeypress);b.bind(window,"resize",b.resize);b.bind(window,"orientationchange",b.resize);b.bind(window,"load",b.resize);b.onAttributeChange=function(){b.lazyResize()};!b.ispage&&!b.haswrapper&&("WebKitMutationObserver"in window?(new WebKitMutationObserver(function(d){d.forEach(b.onAttributeChange)})).observe(b.win[0],{attributes:true,subtree:false}):(b.bind(b.win,b.isie&&!b.isie9?
"propertychange":"DOMAttrModified",b.onAttributeChange),b.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange)));!b.ispage&&b.opt.boxzoom&&b.bind(window,"resize",b.resizeZoom);b.istextarea&&b.bind(b.win,"mouseup",b.resize);b.resize()}if(this.doc[0].nodeName=="IFRAME"){var h=function(){b.iframexd=false;try{var d="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(c){b.iframexd=true,d=false}if(b.iframexd)return true;if(b.isiframe)b.iframe={html:b.doc.contents().find("html")[0],
body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=e(this.contentWindow);if(b.opt.iframeautoresize&&!b.isiframe){b.win.scrollTop(0);b.doc.height("");var g=Math.max(d.getElementsByTagName("html")[0].scrollHeight,d.body.scrollHeight);b.doc.height(g)}b.resize();b.isie7&&b.css(e(d).find("html"),{"overflow-y":"hidden"});b.css(e(d.body),{"overflow-y":"hidden"});
"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(d,"scroll",b.onscroll);b.bind(d,"mouseup",b.onmouseup);b.bind(d,"mousewheel",b.onmousewheel);b.bind(d,b.isopera?"keypress":"keydown",b.onkeypress);if(b.cantouch||b.opt.touchbehavior)b.bind(d,"mousedown",b.onmousedown),b.cursorgrabvalue&&b.css(e(d.body),{cursor:b.cursorgrabvalue});b.bind(d,"mousemove",b.onmousemove);b.zoom&&(b.opt.dblclickzoom&&b.bind(d,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(d,"gestureend",b.ongesturezoom))};
this.doc[0].readyState&&this.doc[0].readyState=="complete"&&setTimeout(function(){h.call(b.doc[0],false)},500);b.bind(this.doc,"load",h)}};this.showCursor=function(d){if(b.cursortimeout)clearTimeout(b.cursortimeout),b.cursortimeout=0;if(b.rail){b.autohidedom&&b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax});if(typeof d!="undefined")b.scroll.y=Math.round(d*1/b.scrollratio.y);b.cursor.css({height:b.cursorheight,top:b.scroll.y});b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax})}};
this.hideCursor=function(d){if(!b.cursortimeout&&b.rail&&b.autohidedom)b.cursortimeout=setTimeout(function(){b.rail.active||(b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}));b.cursortimeout=0},d||400)};this.noticeCursor=function(d,c){b.showCursor(c);b.hideCursor(d)};this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,
document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}};this.resize=this.onResize=function(d,c){if(!b.haswrapper&&!b.ispage)if(b.win.css("display")=="none")return b.visibility&&b.hideRail(),false;else!b.visibility&&b.getScrollTop()==
0&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y)),!b.hidden&&!b.visibility&&b.showRail();var e=b.page.maxh,f=b.page.maxw,h=b.view.w;b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)};b.page=c?c:b.getContentSize();b.page.maxh=Math.max(0,b.page.h-b.view.h);b.page.maxw=Math.max(0,b.page.w-b.view.w);if(b.page.maxh==e&&b.page.maxw==f&&b.view.w==h)if(b.ispage)return b;else{e=b.win.offset();if(b.lastposition&&(f=b.lastposition,
f.top==e.top&&f.left==e.left))return b;b.lastposition=e}if(b.page.maxh==0)return b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio={x:0,y:0},b.cursorheight=0,b.locked=true,b.setScrollTop(0),false;else if(!b.hidden&&!b.visibility)b.showRail(),b.locked=false;b.istextarea&&b.win.css("resize")&&b.win.css("resize")!="none"&&(b.view.h-=20);b.ispage||b.updateScrollBar(b.view);b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h)));b.cursorheight=Math.max(b.opt.cursorminheight,
b.cursorheight);b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder;b.scrollratio={x:0,y:b.page.maxh/b.scrollvaluemax};b.getScrollTop()>b.page.maxh?b.doScroll(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.noticeCursor());return b};this.lazyResize=function(){b.delayed("resize",b.resize,250)};this._bind=function(d,c,e,f){b.events.push({e:d,n:c,f:e});d.addEventListener?d.addEventListener(c,e,f||false):d.attachEvent?d.attachEvent("on"+c,e):d["on"+c]=e};this.bind=function(d,
c,e,f){var h="jquery"in d?d[0]:d;h.addEventListener?(b.cantouch&&/mouseup|mousedown|mousemove/.test(c)&&b._bind(h,c=="mousedown"?"touchstart":c=="mouseup"?"touchend":"touchmove",function(b){if(b.touches){if(b.touches.length<2){var d=b.touches.length?b.touches[0]:b;d.original=b;e.call(this,d)}}else if(b.changedTouches)d=b.changedTouches[0],d.original=b,e.call(this,d)},f||false),b._bind(h,c,e,f||false),c=="mousewheel"&&b._bind(h,"DOMMouseScroll",e,f||false),b.cantouch&&c=="mouseup"&&b._bind(h,"touchcancel",
e,f||false)):b._bind(h,c,function(d){if((d=d||window.event||false)&&d.srcElement)d.target=d.srcElement;return e.call(h,d)===false||f===false?b.cancelEvent(d):true})};this._unbind=function(b,c,e){b.removeEventListener?b.removeEventListener(c,e,false):b.detachEvent?b.detachEvent("on"+c,e):b["on"+c]=false};this.unbindAll=function(){for(var d=0;d<b.events.length;d++){var c=b.events[d];b._unbind(c.e,c.n,c.f)}};this.cancelEvent=function(b){b=b.original?b.original:b?b:window.event||false;if(!b)return false;
b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation();b.preventManipulation&&b.preventManipulation();b.cancelBubble=true;b.cancel=true;return b.returnValue=false};this.showRail=function(){if(b.page.maxh!=0&&(b.ispage||b.win.css("display")!="none"))b.visibility=true,b.rail.css("display","block");return b};this.hideRail=function(){b.visibility=false;b.rail.css("display","none");return b};this.show=function(){b.hidden=false;b.locked=false;return b.showRail()};this.hide=function(){b.hidden=
true;b.locked=true;return b.hideRail()};this.remove=function(){b.doZoomOut();b.unbindAll();b.events=[];b.rail.remove();b.zoom&&b.zoom.remove();b.cursor=false;b.rail=false;b.zoom=false;for(var d=0;d<b.saved.css.length;d++){var c=b.saved.css[d];c[0].css(c[1],typeof c[2]=="undefined"?"":c[2])}b.saved=false;b.me.data("__nicescroll","");return b};this.isScrollable=function(b){for(b=b.target?b.target:b;b&&b.nodeName&&!/BODY|HTML/.test(b.nodeName);){var c=e(b);if(/scroll|auto/.test(c.css("overflowY")||c.css("overflow")||
""))return b.clientHeight!=b.scrollHeight;b=b.parentNode?b.parentNode:false}return false};this.onmousewheel=function(d){if(b.locked&&b.page.maxh==0)return true;if(b.opt.preservenativescrolling&&b.checkarea)b.checkarea=false,b.nativescrollingarea=b.isScrollable(d);if(b.nativescrollingarea)return true;if(b.locked)return b.cancelEvent(d);if(b.rail.drag)return b.cancelEvent(d);var c=0;if(c=d.detail?d.detail*-1:d.wheelDelta/40)b.scrollmom&&b.scrollmom.y.stop(),b.lastdelta+=c*b.opt.mousescrollstep,b.synched("mousewheel",
function(){if(!b.rail.drag){var d=b.lastdelta;b.lastdelta=0;b.doScrollBy(d)}});return b.cancelEvent(d)};this.stop=function(){b.cancelScroll();b.scrollmon&&b.scrollmon.stop();b.cursorfreezed=false;b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.noticeCursor();return b};b.ishwscroll&&b.hastransition&&b.opt.usetransition?(this.prepareTransition=function(d){var c=Math.round(b.opt.scrollspeed*10),d=Math.min(c,Math.round(d/20*b.opt.scrollspeed)),c=d>20?b.prefixstyle+"transform "+d+"ms ease-out 0s":
"";if(!b.lasttransitionstyle||b.lasttransitionstyle!=c)b.lasttransitionstyle=c,b.doc.css(b.transitionstyle,c);return d},this.doScroll=function(d,c){var e=b.getScrollTop();if(d<0&&e<=0)return b.noticeCursor();else if(d>b.page.maxh&&e>=b.page.maxh)return b.checkContentSize(),b.noticeCursor();b.newscrolly=d;b.newscrollspeed=c||false;if(b.timer)return false;if(!b.scrollendtrapped)b.scrollendtrapped=true,b.bind(b.doc,b.transitionend,b.onScrollEnd,false);b.timer=setTimeout(function(){var d=b.getScrollTop(),
d=b.newscrollspeed?b.newscrollspeed:Math.abs(d-b.newscrolly),c=b.prepareTransition(d);b.timer=setTimeout(function(){if(b.newscrolly<0&&!b.opt.bouncescroll)b.newscrolly=0;else if(b.newscrolly>b.page.maxh&&!b.opt.bouncescroll)b.newscrolly=b.page.maxh;if(b.newscrolly==b.getScrollTop())b.timer=0,b.onScrollEnd();else{var d=b.getScrollTop();b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);if(c>0&&(b.timerscroll={ts:(new Date).getTime(),s:b.getScrollTop(),e:b.newscrolly,sp:c,bz:new BezierClass(d,
b.newscrolly,c,0,1,0,1)},!b.cursorfreezed))b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop())},60);b.setScrollTop(b.newscrolly);b.timer=0}},15)},b.opt.scrollspeed)},this.cancelScroll=function(){if(!b.scrollendtrapped)return true;var d=b.getScrollTop();b.scrollendtrapped=false;b._unbind(b.doc,b.transitionend,b.onScrollEnd);b.prepareTransition(0);b.setScrollTop(d);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=false;b.cursorfreezed=false;b.noticeCursor(false,
d);return b},this.onScrollEnd=function(){b.scrollendtrapped=false;b._unbind(b.doc,b.transitionend,b.onScrollEnd);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=false;b.cursorfreezed=false;var d=b.getScrollTop();b.setScrollTop(d);b.noticeCursor(false,d);d<0?b.doScroll(0,60):d>b.page.maxh&&b.doScroll(b.page.maxh,60)}):(this.doScroll=function(d){function c(){if(b.cancelAnimationFrame)return true;if(h=1-h)return b.timer=k(c)||1;var d=b.getScrollTop(),e=b.bzscroll?b.bzscroll.getNow():
b.newscrolly,d=e-d;if(d<0&&e<b.newscrolly||d>0&&e>b.newscrolly)e=b.newscrolly;b.setScrollTop(e);e==b.newscrolly?(b.timer=0,b.cursorfreezed=false,b.bzscroll=false,e<0?b.doScroll(0):e>b.page.maxh&&b.doScroll(b.page.maxh)):b.timer=k(c)||1}if(b.newscrolly==d)return true;var e=b.getScrollTop();b.newscrolly=d;if(!b.bouncescroll)if(b.newscrolly<0){if(b.newspeedy)b.newspeedy.x=0;b.newscrolly=0}else if(b.newscrolly>b.page.maxh){if(b.newspeedy)b.newspeedy.x=b.page.maxh;b.newscrolly=b.page.maxh}var f=Math.floor(Math.abs(d-
e)/40);f>0?(f=Math.min(10,f)*100,b.bzscroll=b.bzscroll?b.bzscroll.update(d,f):new BezierClass(e,d,f,0,1,0,1)):b.bzscroll=false;if(!b.timer){e==b.page.maxh&&d>=b.page.maxh&&b.checkContentSize();var h=1;b.cancelAnimationFrame=false;b.timer=1;c();e==b.page.maxh&&d>=e&&b.checkContentSize();b.noticeCursor()}},this.cancelScroll=function(){b.timer&&n(b.timer);b.timer=0;b.bzscroll=false;return b});this.doScrollBy=function(d,c){var e=0,e=c?Math.floor((b.scroll.y-d)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(true))-
d;if(b.bouncescroll){var f=Math.round(b.view.h/2);e<-f?e=-f:e>b.page.maxh+f&&(e=b.page.maxh+f)}b.cursorfreezed=false;b.doScroll(e)};this.doScrollTo=function(d,c){c&&Math.round(d*b.scrollratio.y);b.cursorfreezed=false;b.doScroll(d)};this.checkContentSize=function(){var d=b.getContentSize();d.h!=b.page.h&&b.resize(false,d)};b.onscroll=function(){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.noticeCursor()})};b.bind(b.docscroll,
"scroll",b.onscroll);this.doZoomIn=function(d){if(!b.zoomactive){b.zoomactive=true;b.zoomrestore={style:{}};var c="position,top,left,zIndex,backgroundColor,marginTop,marginBottom,marginLeft,marginRight".split(","),f=b.win[0].style,h;for(h in c){var i=c[h];b.zoomrestore.style[i]=typeof f[i]!="undefined"?f[i]:""}b.zoomrestore.style.width=b.win.css("width");b.zoomrestore.style.height=b.win.css("height");b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()};if(b.isios4)b.zoomrestore.scrollTop=
e(window).scrollTop(),e(window).scrollTop(0);b.win.css({position:b.isios4?"absolute":"fixed",top:0,left:0,"z-index":b.opt.zindex+100,margin:"0px"});c=b.win.css("backgroundColor");(c==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(c))&&b.win.css("backgroundColor","#fff");b.rail.css({"z-index":b.opt.zindex+110});b.zoom.css({"z-index":b.opt.zindex+112});b.zoom.css("backgroundPosition","0px -18px");b.resizeZoom();return b.cancelEvent(d)}};this.doZoomOut=function(c){if(b.zoomactive)return b.zoomactive=
false,b.win.css("margin",""),b.win.css(b.zoomrestore.style),b.isios4&&e(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.ispage?b.opt.zindex:b.opt.zindex+2}),b.zoom.css({"z-index":b.opt.zindex}),b.zoomrestore=false,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.cancelEvent(c)};this.doZoom=function(c){return b.zoomactive?b.doZoomOut(c):b.doZoomIn(c)};this.resizeZoom=function(){if(b.zoomactive){var c=b.getScrollTop();b.win.css({width:e(window).width()-b.zoomrestore.padding.w+
"px",height:e(window).height()-b.zoomrestore.padding.h+"px"});b.onResize();b.setScrollTop(Math.min(b.page.maxh,c))}};this.init();e.nicescroll.push(this)},r=function(e){var c=this;this.nc=e;this.lasttime=this.speedy=this.lasty=0;this.snapy=false;this.demuly=0;this.lastscrolly=-1;this.timer=this.chky=0;this.time=function(){return(new Date).getTime()};this.reset=function(b){c.stop();c.lasttime=c.time();c.speedy=0;c.lasty=b;c.lastscrolly=-1};this.update=function(b){c.lasttime=c.time();var h=b-c.lasty,
i=e.getScrollTop()+h;c.snapy=i<0||i>c.nc.page.maxh;c.speedy=h;c.lasty=b};this.stop=function(){if(c.timer)clearTimeout(c.timer),c.timer=0,c.lastscrolly=-1};this.doSnapy=function(b){b<0?c.nc.doScroll(0,60):b>c.nc.page.maxh&&c.nc.doScroll(c.nc.page.maxh,60)};this.doMomentum=function(b){var e=c.time(),f=b?e+b:c.lasttime;c.speedy=Math.min(60,c.speedy);if(c.speedy&&f&&e-f<=50&&c.speedy){var b=e-f,l=c.nc.page.maxh;c.demuly=0;c.lastscrolly=c.nc.getScrollTop();c.chky=c.lastscrolly;var k=function(){var e=Math.floor(c.lastscrolly-
c.speedy*(1-c.demuly));c.demuly+=e<0||e>l?0.08:0.01;c.lastscrolly=e;c.nc.synched("domomentum",function(){c.nc.getScrollTop()!=c.chky&&c.stop();c.chky=e;c.nc.setScrollTop(e);c.timer?c.nc.showCursor(e):(c.nc.hideCursor(),c.doSnapy(e))});c.timer=c.demuly<1?setTimeout(k,b):0};k()}else c.snapy&&c.doSnapy(c.nc.getScrollTop())}},l=e.fn.scrollTop;e.cssHooks.scrollTop={get:function(f){var c=e.data(f,"__nicescroll")||false;return c&&c.ishwscroll?c.getScrollTop():l.call(f)},set:function(f,c){var b=e.data(f,
"__nicescroll")||false;b&&b.ishwscroll?b.setScrollTop(parseInt(c)):l.call(f,c);return this}};e.fn.scrollTop=function(f){if(typeof f=="undefined"){var c=this[0]?e.data(this[0],"__nicescroll")||false:false;return c&&c.ishwscroll?c.getScrollTop():l.call(this)}else return this.each(function(){var b=e.data(this,"__nicescroll")||false;b&&b.ishwscroll?b.setScrollTop(parseInt(f)):l.call(e(this),f)})};var o=function(f){var c=this;this.length=0;this.name="nicescrollarray";this.each=function(b){for(var e=0;e<
c.length;e++)b.call(c[e]);return c};this.push=function(b){c[c.length]=b;c.length++};this.eq=function(b){return c[b]};if(f)for(a=0;a<f.length;a++){var b=e.data(f[a],"__nicescroll")||false;b&&(this[this.length]=b,this.length++)}return this};(function(e,c,b){for(var h=0;h<c.length;h++)b(e,c[h])})(o.prototype,"show,hide,onResize,resize,remove,stop".split(","),function(e,c){e[c]=function(){return this.each(function(){this[c].call()})}});e.fn.getNiceScroll=function(f){return typeof f=="undefined"?new o(this):
e.data(this[f],"__nicescroll")||false};e.extend(e.expr[":"],{nicescroll:function(f){return e.data(f,"__nicescroll")?true:false}});e.fn.niceScroll=function(f,c){typeof c=="undefined"&&typeof f=="object"&&!("jquery"in f)&&(c=f,f=false);var b=new o;typeof c=="undefined"&&(c={});if(f)c.doc=e(f),c.win=e(this);var h=!("doc"in c);if(!h&&!("win"in c))c.win=e(this);this.each(function(){var f=e(this).data("__nicescroll")||false;if(!f)c.doc=h?e(this):c.doc,f=new y(c,e(this)),e(this).data("__nicescroll",f);b.push(f)});
return b.length==1?b[0]:b};window.NiceScroll={getjQuery:function(){return e}};if(!e.nicescroll)e.nicescroll=new o})(jQuery);
